2024-07-17 03:46:11,692 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7h48m37s92ms).
2024-07-17 03:48:11,534 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m29s460ms).
2024-07-17 04:56:26,834 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h8m15s309ms).
2024-07-17 06:23:02,153 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h25m2s978ms).
2024-07-17 06:25:05,308 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m33s130ms).
2024-07-17 06:59:44,266 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=30m38s934ms).
2024-07-17 07:20:53,881 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m9s504ms).
2024-07-17 09:03:16,151 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h7m52s129ms).
2024-07-17 09:03:24,158 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 09:03:24,173 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 09:03:24,184 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 09:03:24,341 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 09:03:24,369 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-17 09:03:24,390 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-17 09:03:24,405 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-17 09:03:24,425 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_stop
2024-07-17 09:03:24,455 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-17 09:03:24,468 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-17 09:03:26,405 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 29388 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 09:03:26,408 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 09:03:27,750 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 09:03:27,886 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 108 ms. Found 3 JPA repository interfaces.
2024-07-17 09:03:29,566 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 09:03:29,588 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 09:03:29,589 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 09:03:29,749 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 09:03:29,749 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3238 ms
2024-07-17 09:03:30,020 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 09:03:30,122 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 09:03:30,414 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 09:03:30,615 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 09:03:30,935 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e2b3026
2024-07-17 09:03:30,939 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 09:03:31,065 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 09:03:32,302 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 09:03:32,325 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 09:03:32,331 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 09:03:32,333 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 09:03:32,336 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 09:03:32,348 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 09:03:32,352 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 09:03:32,354 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 09:03:32,367 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 09:03:32,429 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 09:03:32,449 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 09:03:32,456 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 09:03:32,478 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 09:03:32,496 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 09:03:32,523 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 09:03:32,545 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 09:03:32,605 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 09:03:32,657 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 09:03:32,670 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 09:03:34,223 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 09:03:34,678 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f70015, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d5fc340, org.springframework.security.web.context.SecurityContextHolderFilter@3abb6aa, org.springframework.security.web.header.HeaderWriterFilter@37a36194, org.springframework.security.web.authentication.logout.LogoutFilter@594965c9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@30f99ca1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f7bf0f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@759c53e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@613f48de, org.springframework.security.web.session.SessionManagementFilter@56fc2cea, org.springframework.security.web.access.ExceptionTranslationFilter@7cf166db, org.springframework.security.web.access.intercept.AuthorizationFilter@69e8f7a5]
2024-07-17 09:03:35,101 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 09:03:35,119 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 9.622 seconds (process running for 10.425)
2024-07-17 09:16:59,717 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-17 09:16:59,721 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-17 09:16:59,734 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 12 ms
2024-07-17 09:17:02,203 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 1388 ms
2024-07-17 09:40:30,161 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m48s885ms).
2024-07-17 09:55:53,139 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s682ms).
2024-07-17 10:03:16,165 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m47s240ms).
2024-07-17 10:32:01,340 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m45s96ms).
2024-07-17 11:09:57,374 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:09:57,436 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:09:57,449 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:09:57,752 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:09:57,782 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-17 11:09:57,814 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-17 11:09:57,830 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-17 11:09:57,842 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_stop
2024-07-17 11:09:57,883 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-17 11:09:57,907 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-17 11:09:59,687 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 81226 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:09:59,689 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:10:00,815 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:10:00,912 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 80 ms. Found 3 JPA repository interfaces.
2024-07-17 11:10:02,316 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:10:02,337 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:10:02,338 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:10:02,490 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:10:02,491 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2664 ms
2024-07-17 11:10:02,735 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:10:02,831 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:10:03,133 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:10:03,328 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:10:03,621 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38bc5ac0
2024-07-17 11:10:03,624 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:10:03,721 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:10:04,934 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:10:04,955 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:10:04,961 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:10:04,964 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:10:04,968 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:10:04,977 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:10:04,981 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:10:04,985 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:10:05,002 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:10:05,037 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:10:05,061 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:10:05,067 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:10:05,092 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:10:05,117 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:10:05,145 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:10:05,167 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:10:05,233 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:10:05,278 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:10:05,291 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:10:07,006 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:10:07,504 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75c30a4f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@360e4235, org.springframework.security.web.context.SecurityContextHolderFilter@759c53e5, org.springframework.security.web.header.HeaderWriterFilter@5b27d03d, org.springframework.security.web.authentication.logout.LogoutFilter@7890324e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@d8751de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c02cf78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a2930f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b0fc8b, org.springframework.security.web.session.SessionManagementFilter@45430a27, org.springframework.security.web.access.ExceptionTranslationFilter@2f3565c0, org.springframework.security.web.access.intercept.AuthorizationFilter@75b6bd41]
2024-07-17 11:10:07,953 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:10:07,976 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 9.086 seconds (process running for 9.801)
2024-07-17 11:10:08,073 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:10:08,104 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:10:08,136 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:61)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:10:08,180 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:10:08,181 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:10:08,182 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:10:08,210 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:10:08,241 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:10:08,263 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:10:08,281 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:10:08,317 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:10:08,356 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:10:08,373 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:13:34,796 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 83141 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:13:34,799 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:13:35,746 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:13:35,844 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 85 ms. Found 3 JPA repository interfaces.
2024-07-17 11:13:37,153 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:13:37,170 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:13:37,171 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:13:37,338 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:13:37,339 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2435 ms
2024-07-17 11:13:37,600 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:13:37,677 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:13:37,907 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:13:38,075 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:13:38,338 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4fbb1144
2024-07-17 11:13:38,341 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:13:38,420 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:13:39,784 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:13:39,801 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:13:39,806 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:13:39,808 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:13:39,810 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:13:39,822 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:13:39,826 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:13:39,832 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:13:39,842 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:13:39,899 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:13:39,920 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:13:39,929 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:13:39,956 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:13:39,974 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:13:39,994 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:13:40,010 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:13:40,059 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:13:40,099 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:13:40,110 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:13:41,154 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:13:41,516 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d8751de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e21c6ed, org.springframework.security.web.context.SecurityContextHolderFilter@1b83fac3, org.springframework.security.web.header.HeaderWriterFilter@2f3565c0, org.springframework.security.web.authentication.logout.LogoutFilter@37fc7e3c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@613f48de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@759c53e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29ebaf2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75c30a4f, org.springframework.security.web.session.SessionManagementFilter@34074149, org.springframework.security.web.access.ExceptionTranslationFilter@6abaa14b, org.springframework.security.web.access.intercept.AuthorizationFilter@26a004ed]
2024-07-17 11:13:41,861 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:13:41,886 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.603 seconds (process running for 8.022)
2024-07-17 11:13:41,978 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:13:42,010 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:13:42,036 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:62)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:13:42,074 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:13:42,075 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:13:42,076 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:13:42,093 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:13:42,118 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:13:42,130 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:13:42,152 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:13:42,177 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:13:42,195 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:13:42,208 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:20:41,335 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 86893 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:20:41,338 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:20:42,190 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:20:42,275 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 68 ms. Found 3 JPA repository interfaces.
2024-07-17 11:20:43,512 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:20:43,536 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:20:43,538 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:20:43,686 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:20:43,687 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2242 ms
2024-07-17 11:20:43,954 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:20:44,040 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:20:44,268 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:20:44,471 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:20:44,679 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1b8fa2fa
2024-07-17 11:20:44,681 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:20:44,750 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:20:45,999 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:20:46,021 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:20:46,031 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:20:46,033 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:20:46,036 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:20:46,048 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:20:46,057 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:20:46,069 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:20:46,135 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:20:46,177 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:20:46,192 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:20:46,197 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:20:46,217 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:20:46,234 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:20:46,271 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:20:46,294 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:20:46,337 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:20:46,375 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:20:46,457 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:20:47,700 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:20:48,071 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1df8e685, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78723798, org.springframework.security.web.context.SecurityContextHolderFilter@377d55, org.springframework.security.web.header.HeaderWriterFilter@3e7fc07e, org.springframework.security.web.authentication.logout.LogoutFilter@edb8f0c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6db2a260, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ef7e4c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52b77d5e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ab3b54, org.springframework.security.web.session.SessionManagementFilter@1de398c3, org.springframework.security.web.access.ExceptionTranslationFilter@28d37d43, org.springframework.security.web.access.intercept.AuthorizationFilter@1b0fc8b]
2024-07-17 11:20:48,383 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:20:48,401 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.663 seconds (process running for 8.071)
2024-07-17 11:20:48,565 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:20:48,619 [ERROR] com.ecobank.soole.services.busimplement.BusServiceImpl [main] Cannot invoke "org.springframework.security.core.Authentication.getName()" because the return value of "org.springframework.security.core.context.SecurityContext.getAuthentication()" is null
2024-07-17 11:20:48,622 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:20:48,648 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.lang.RuntimeException: Unable to create bus Cannot invoke "org.springframework.security.core.Authentication.getName()" because the return value of "org.springframework.security.core.context.SecurityContext.getAuthentication()" is null
	at com.ecobank.soole.services.busimplement.BusServiceImpl.createBus(BusServiceImpl.java:46)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:70)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:20:48,678 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:20:48,679 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:20:48,681 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:20:48,695 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:20:48,713 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:20:48,728 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:20:48,740 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:20:48,752 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:20:48,764 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:20:48,777 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:22:09,796 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 87668 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:22:09,799 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:22:11,142 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:22:11,243 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 3 JPA repository interfaces.
2024-07-17 11:22:12,603 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:22:12,616 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:22:12,617 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:22:12,745 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:22:12,745 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2821 ms
2024-07-17 11:22:12,982 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:22:13,056 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:22:13,290 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:22:13,468 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:22:13,692 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2fac80a8
2024-07-17 11:22:13,694 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:22:13,764 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:22:14,954 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:22:14,967 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:22:14,976 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:22:14,978 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:22:14,982 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:22:14,993 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:22:14,996 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:22:15,001 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:22:15,010 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:22:15,030 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:22:15,045 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:22:15,049 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:22:15,065 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:22:15,081 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:22:15,098 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:22:15,114 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:22:15,158 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:22:15,197 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:22:15,211 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:22:16,635 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:22:17,012 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3445ddf2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27b84c9a, org.springframework.security.web.context.SecurityContextHolderFilter@e7ddf8d, org.springframework.security.web.header.HeaderWriterFilter@1db565f2, org.springframework.security.web.authentication.logout.LogoutFilter@53b83897, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a678e40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a8e87b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76ffd052, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21abd3a3, org.springframework.security.web.session.SessionManagementFilter@34e7cde3, org.springframework.security.web.access.ExceptionTranslationFilter@4d529dbf, org.springframework.security.web.access.intercept.AuthorizationFilter@7137cd14]
2024-07-17 11:22:17,336 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:22:17,359 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.246 seconds (process running for 8.748)
2024-07-17 11:22:17,546 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:22:17,614 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:22:17,644 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:22:17,647 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:22:17,666 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:22:17,675 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:22:17,699 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:89)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:22:17,733 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:22:17,734 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:22:17,736 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:22:17,758 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:22:17,772 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:22:17,786 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:22:17,814 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:22:17,829 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:22:17,841 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:22:17,854 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:23:51,310 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 88628 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:23:51,313 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:23:52,237 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:23:52,325 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 74 ms. Found 3 JPA repository interfaces.
2024-07-17 11:23:53,484 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:23:53,496 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:23:53,497 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:23:53,617 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:23:53,617 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2202 ms
2024-07-17 11:23:53,845 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:23:53,913 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:23:54,108 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:23:54,247 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:23:54,478 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@505d2bac
2024-07-17 11:23:54,480 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:23:54,541 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:23:55,709 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:23:55,727 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:23:55,732 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:23:55,738 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:23:55,741 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:23:55,751 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:23:55,757 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:23:55,763 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:23:55,771 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:23:55,787 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:23:55,802 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:23:55,807 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:23:55,826 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:23:55,842 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:23:55,861 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:23:55,878 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:23:55,918 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:23:55,957 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:23:55,968 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:23:57,136 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:23:57,525 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@362e6fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1259b2a5, org.springframework.security.web.context.SecurityContextHolderFilter@53b83897, org.springframework.security.web.header.HeaderWriterFilter@6c399d4, org.springframework.security.web.authentication.logout.LogoutFilter@ab5dde4, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@46067a74, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@372e972d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@428e9be2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6779af40, org.springframework.security.web.session.SessionManagementFilter@61e34bec, org.springframework.security.web.access.ExceptionTranslationFilter@4def900a, org.springframework.security.web.access.intercept.AuthorizationFilter@600a1270]
2024-07-17 11:23:57,865 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:23:57,880 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.139 seconds (process running for 7.684)
2024-07-17 11:23:58,072 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:23:58,147 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:23:58,180 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:23:58,185 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:23:58,209 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:23:58,220 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:23:58,249 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:89)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:23:58,288 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:23:58,289 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:23:58,290 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:23:58,313 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:23:58,334 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:23:58,347 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:23:58,358 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:23:58,369 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:23:58,387 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:23:58,402 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:33:12,570 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 93529 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:33:12,573 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:33:13,715 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:33:13,805 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 73 ms. Found 3 JPA repository interfaces.
2024-07-17 11:33:15,149 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:33:15,165 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:33:15,166 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:33:15,423 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:33:15,424 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2739 ms
2024-07-17 11:33:15,661 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:33:15,744 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:33:15,971 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:33:16,157 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:33:16,454 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68d6f48e
2024-07-17 11:33:16,457 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:33:16,540 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:33:17,785 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:33:17,818 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:33:17,824 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:33:17,831 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:33:17,833 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:33:17,845 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:33:17,852 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:33:17,871 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:33:17,881 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:33:17,917 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:33:17,937 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:33:17,945 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:33:17,963 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:33:17,979 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:33:18,002 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:33:18,019 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:33:18,077 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:33:18,131 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:33:18,141 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:33:19,809 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:33:20,298 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@255482cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40ecead5, org.springframework.security.web.context.SecurityContextHolderFilter@46c61d1, org.springframework.security.web.header.HeaderWriterFilter@5032b2e, org.springframework.security.web.authentication.logout.LogoutFilter@7137cd14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@ab5dde4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bd39edc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4def900a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@641255d1, org.springframework.security.web.session.SessionManagementFilter@76ffd052, org.springframework.security.web.access.ExceptionTranslationFilter@729de0e1, org.springframework.security.web.access.intercept.AuthorizationFilter@309b8144]
2024-07-17 11:33:20,684 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:33:20,702 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.712 seconds (process running for 9.277)
2024-07-17 11:33:20,927 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:33:21,015 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:33:21,049 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:33:21,053 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:33:21,229 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:33:21,258 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)
	at jdk.proxy2/jdk.proxy2.$Proxy143.findById(Unknown Source)
	at com.ecobank.soole.services.AccountService.mapToBus(AccountService.java:77)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:114)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
Caused by: java.lang.IllegalArgumentException: The given id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:204)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:295)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 15 common frames omitted
2024-07-17 11:33:21,304 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:33:21,306 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:33:21,310 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:33:21,362 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:33:21,386 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:33:21,405 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:33:21,421 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:33:21,438 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:33:21,451 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:33:21,465 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:37:49,354 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 96099 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:37:49,357 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:37:50,431 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:37:50,505 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
2024-07-17 11:37:51,848 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:37:51,867 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:37:51,868 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:37:52,014 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:37:52,014 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2524 ms
2024-07-17 11:37:52,246 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:37:52,362 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:37:52,589 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:37:52,745 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:37:53,001 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7babed9e
2024-07-17 11:37:53,003 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:37:53,079 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:37:54,170 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:37:54,189 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:37:54,196 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:37:54,198 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stop' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:37:54,201 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:37:54,208 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:37:54,212 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:37:54,216 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:37:54,224 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:37:54,251 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:37:54,265 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:37:54,269 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:37:54,286 [DEBUG] org.hibernate.SQL [main] create table bus_stop (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:37:54,300 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:37:54,323 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:37:54,344 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:37:54,393 [DEBUG] org.hibernate.SQL [main] alter table bus_stop add constraint FKtidrelkgcnjec1oa0ahe1tqij foreign key (bus_id) references bus (bus_id)
2024-07-17 11:37:54,436 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:37:54,447 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:37:55,739 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:37:56,178 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@255482cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40ecead5, org.springframework.security.web.context.SecurityContextHolderFilter@46c61d1, org.springframework.security.web.header.HeaderWriterFilter@5032b2e, org.springframework.security.web.authentication.logout.LogoutFilter@7137cd14, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@ab5dde4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4bd39edc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4def900a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@641255d1, org.springframework.security.web.session.SessionManagementFilter@76ffd052, org.springframework.security.web.access.ExceptionTranslationFilter@729de0e1, org.springframework.security.web.access.intercept.AuthorizationFilter@309b8144]
2024-07-17 11:37:56,557 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:37:56,576 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.017 seconds (process running for 8.545)
2024-07-17 11:37:56,766 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:37:56,833 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:37:56,861 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:37:56,865 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:37:56,887 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:37:56,899 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:37:56,927 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:89)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:37:56,968 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:37:56,969 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:37:56,970 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:37:56,994 [DEBUG] org.hibernate.SQL [main] alter table bus_stop drop foreign key FKtidrelkgcnjec1oa0ahe1tqij
2024-07-17 11:37:57,017 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:37:57,037 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:37:57,056 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:37:57,070 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stop
2024-07-17 11:37:57,113 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:37:57,125 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:39:10,957 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 96880 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:39:10,961 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:39:11,892 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:39:11,974 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69 ms. Found 3 JPA repository interfaces.
2024-07-17 11:39:13,302 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:39:13,320 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:39:13,321 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:39:13,481 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:39:13,491 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2432 ms
2024-07-17 11:39:13,744 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:39:13,811 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:39:14,015 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:39:14,169 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:39:14,387 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@14ed7ddf
2024-07-17 11:39:14,389 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:39:14,460 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:39:15,619 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:39:15,636 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:39:15,645 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:39:15,648 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:39:15,653 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:39:15,667 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:39:15,671 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:39:15,676 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:39:15,688 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:39:15,718 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:39:15,736 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:39:15,741 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:39:15,762 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:39:15,782 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:39:15,807 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:39:15,826 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:39:15,880 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 11:39:15,928 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:39:15,940 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:39:17,685 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:39:18,135 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f3565c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64a8851a, org.springframework.security.web.context.SecurityContextHolderFilter@7137cd14, org.springframework.security.web.header.HeaderWriterFilter@40625ac6, org.springframework.security.web.authentication.logout.LogoutFilter@600a1270, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6abaa14b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6de2344a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@238c63df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b27d03d, org.springframework.security.web.session.SessionManagementFilter@428e9be2, org.springframework.security.web.access.ExceptionTranslationFilter@cf0bc92, org.springframework.security.web.access.intercept.AuthorizationFilter@55a29589]
2024-07-17 11:39:18,532 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:39:18,560 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.13 seconds (process running for 8.535)
2024-07-17 11:39:18,754 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:39:18,831 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:39:18,864 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:39:18,867 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:39:18,908 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:39:18,917 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:39:18,948 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:89)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:39:18,996 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:39:18,997 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:39:18,998 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:39:19,030 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:39:19,050 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:39:19,073 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:39:19,095 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:39:19,131 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:39:19,143 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:39:19,154 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:40:44,058 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 97734 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:40:44,061 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:40:45,063 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:40:45,153 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 3 JPA repository interfaces.
2024-07-17 11:40:46,375 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:40:46,395 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:40:46,396 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:40:46,546 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:40:46,559 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2401 ms
2024-07-17 11:40:46,791 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:40:46,863 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:40:47,063 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:40:47,220 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:40:47,431 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cecc15a
2024-07-17 11:40:47,433 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:40:47,495 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:40:48,632 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:40:48,645 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:40:48,653 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:40:48,655 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:40:48,656 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:40:48,667 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:40:48,670 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:40:48,672 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:40:48,681 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:40:48,698 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:40:48,717 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:40:48,721 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:40:48,738 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:40:48,753 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:40:48,774 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:40:48,793 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:40:48,842 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 11:40:48,885 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:40:48,897 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:40:49,994 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:40:50,329 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6779af40, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cf166db, org.springframework.security.web.context.SecurityContextHolderFilter@372e972d, org.springframework.security.web.header.HeaderWriterFilter@433362e0, org.springframework.security.web.authentication.logout.LogoutFilter@255482cb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@362e6fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54d9b23a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2723b0d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68303aad, org.springframework.security.web.session.SessionManagementFilter@53945f9c, org.springframework.security.web.access.ExceptionTranslationFilter@6c399d4, org.springframework.security.web.access.intercept.AuthorizationFilter@28effa3f]
2024-07-17 11:40:50,626 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:40:50,643 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.103 seconds (process running for 7.524)
2024-07-17 11:40:50,795 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:40:50,852 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:40:50,877 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:40:50,882 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:40:50,976 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:40:50,982 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:40:51,001 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:89)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:40:51,035 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:40:51,036 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:40:51,037 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:40:51,060 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:40:51,077 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:40:51,089 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:40:51,096 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:40:51,107 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:40:51,121 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:40:51,133 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:42:49,667 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 98878 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:42:49,671 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:42:50,670 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:42:50,765 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 79 ms. Found 3 JPA repository interfaces.
2024-07-17 11:42:52,194 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:42:52,217 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:42:52,219 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:42:52,409 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:42:52,409 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2638 ms
2024-07-17 11:42:52,850 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:42:52,925 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:42:53,300 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:42:53,573 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:42:53,991 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ce15112
2024-07-17 11:42:53,995 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:42:54,074 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:42:55,485 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:42:55,503 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:42:55,510 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:42:55,513 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:42:55,518 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:42:55,527 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:42:55,532 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:42:55,536 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_seq
2024-07-17 11:42:55,540 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:42:55,545 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops_seq
2024-07-17 11:42:55,555 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:42:55,575 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:42:55,593 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:42:55,598 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:42:55,618 [DEBUG] org.hibernate.SQL [main] create table bus_seq (next_val bigint) engine=InnoDB
2024-07-17 11:42:55,633 [DEBUG] org.hibernate.SQL [main] insert into bus_seq values ( 1 )
2024-07-17 11:42:55,638 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:42:55,654 [DEBUG] org.hibernate.SQL [main] create table bus_stops_seq (next_val bigint) engine=InnoDB
2024-07-17 11:42:55,669 [DEBUG] org.hibernate.SQL [main] insert into bus_stops_seq values ( 1 )
2024-07-17 11:42:55,673 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:42:55,694 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:42:55,709 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:42:55,762 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 11:42:55,800 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:42:55,812 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:42:57,235 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:42:57,600 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75d61b62, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74159dc9, org.springframework.security.web.context.SecurityContextHolderFilter@3ba50851, org.springframework.security.web.header.HeaderWriterFilter@34e7cde3, org.springframework.security.web.authentication.logout.LogoutFilter@577dac16, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@40ecead5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a1dd8eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@726dd367, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53086bdc, org.springframework.security.web.session.SessionManagementFilter@46c61d1, org.springframework.security.web.access.ExceptionTranslationFilter@6d4df1d2, org.springframework.security.web.access.intercept.AuthorizationFilter@6a9f8c2f]
2024-07-17 11:42:57,976 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:42:57,991 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.834 seconds (process running for 9.267)
2024-07-17 11:42:58,149 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:42:58,197 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-17 11:42:58,199 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-17 11:42:58,239 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name, bus_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:42:58,254 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:42:58,258 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-17 11:42:58,264 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-17 11:42:58,268 [DEBUG] org.hibernate.SQL [main] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name, bus_id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:42:58,288 [DEBUG] org.hibernate.SQL [main] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 11:42:58,298 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-17 11:42:58,321 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: com.ecobank.soole.util.constants.ResourceNotFoundException: Bus not found with Id: 0
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.lambda$0(BusStopServiceImpl.java:28)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ecobank.soole.services.busimplement.BusStopServiceImpl.createBusStop(BusStopServiceImpl.java:28)
	at com.ecobank.soole.config.SeedData.run(SeedData.java:89)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767)
	... 5 common frames omitted
2024-07-17 11:42:58,354 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:42:58,355 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:42:58,356 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:42:58,378 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:42:58,393 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:42:58,407 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:42:58,423 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:42:58,433 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_seq
2024-07-17 11:42:58,443 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:42:58,452 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops_seq
2024-07-17 11:42:58,464 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-17 11:42:58,476 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-17 11:47:17,996 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 1868 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:47:17,999 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:47:18,870 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:47:18,953 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 71 ms. Found 3 JPA repository interfaces.
2024-07-17 11:47:20,044 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:47:20,061 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:47:20,063 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:47:20,221 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:47:20,222 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2126 ms
2024-07-17 11:47:20,559 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:47:20,682 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:47:21,009 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:47:21,197 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:47:21,503 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@446c8c72
2024-07-17 11:47:21,505 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:47:21,579 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:47:23,367 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:47:23,379 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:47:23,384 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:47:23,386 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:47:23,388 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:47:23,399 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:47:23,402 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:47:23,406 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:47:23,415 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:47:23,432 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:47:23,444 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:47:23,448 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:47:23,461 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:47:23,474 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:47:23,495 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:47:23,517 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:47:23,566 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 11:47:23,613 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:47:23,630 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:47:25,671 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:47:26,041 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b27d03d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@687d31a9, org.springframework.security.web.context.SecurityContextHolderFilter@6de2344a, org.springframework.security.web.header.HeaderWriterFilter@c2191a8, org.springframework.security.web.authentication.logout.LogoutFilter@28effa3f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f3565c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18ed9480, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d96a895, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ce24203, org.springframework.security.web.session.SessionManagementFilter@2723b0d0, org.springframework.security.web.access.ExceptionTranslationFilter@40625ac6, org.springframework.security.web.access.intercept.AuthorizationFilter@4a7427f9]
2024-07-17 11:47:26,356 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:47:26,376 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.928 seconds (process running for 9.638)
2024-07-17 11:47:26,565 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 11:47:26,586 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 11:47:26,635 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:47:26,789 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 11:47:26,790 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 11:47:26,798 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:47:26,932 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:47:27,072 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:47:27,202 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:48:05,933 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-17 11:48:05,935 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-17 11:48:05,943 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 8 ms
2024-07-17 11:48:07,895 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 1327 ms
2024-07-17 11:50:06,447 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-17 11:50:06,592 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-17 11:50:43,589 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0
2024-07-17 11:53:17,805 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:53:17,809 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:53:17,810 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:53:17,828 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:53:17,843 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-17 11:53:17,857 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-17 11:53:17,871 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-17 11:53:17,890 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_stops
2024-07-17 11:53:17,911 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-17 11:53:17,928 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-17 11:53:19,518 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 6104 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:53:19,521 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:53:20,480 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:53:20,558 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 64 ms. Found 3 JPA repository interfaces.
2024-07-17 11:53:21,839 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:53:21,854 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:53:21,855 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:53:21,996 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:53:21,997 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2381 ms
2024-07-17 11:53:22,204 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:53:22,277 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:53:22,497 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:53:22,644 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:53:22,909 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c758a2d
2024-07-17 11:53:22,911 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:53:22,984 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:53:24,072 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:53:24,084 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:53:24,094 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:53:24,096 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:53:24,099 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:53:24,109 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:53:24,112 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:53:24,115 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:53:24,126 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:53:24,160 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:53:24,174 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:53:24,177 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:53:24,194 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:53:24,208 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:53:24,228 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:53:24,243 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:53:24,290 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 11:53:24,328 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:53:24,341 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:53:26,000 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:53:26,430 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b867869, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b6b8cea, org.springframework.security.web.context.SecurityContextHolderFilter@44a7661d, org.springframework.security.web.header.HeaderWriterFilter@1ebb36df, org.springframework.security.web.authentication.logout.LogoutFilter@662b199, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2db4a84a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cf0bc92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c2191a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73158d35, org.springframework.security.web.session.SessionManagementFilter@433362e0, org.springframework.security.web.access.ExceptionTranslationFilter@13f10967, org.springframework.security.web.access.intercept.AuthorizationFilter@6d911985]
2024-07-17 11:53:26,814 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:53:26,837 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.973 seconds (process running for 8.466)
2024-07-17 11:53:27,039 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 11:53:27,059 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 11:53:27,124 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:53:27,328 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 11:53:27,330 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 11:53:27,334 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:53:27,492 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:53:27,630 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:53:27,774 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:53:40,005 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-17 11:53:40,005 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-17 11:53:40,007 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-07-17 11:53:41,573 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 1273 ms
2024-07-17 11:54:04,966 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-17 11:54:05,097 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-17 11:54:46,128 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 11:54:46,138 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:56:44,601 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:56:44,604 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 11:56:44,605 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:56:44,631 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:56:44,644 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-17 11:56:44,653 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-17 11:56:44,660 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-17 11:56:44,671 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_stops
2024-07-17 11:56:44,683 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-17 11:56:44,700 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-17 11:56:53,897 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 8467 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 11:56:53,900 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 11:56:54,945 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 11:56:55,048 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 84 ms. Found 3 JPA repository interfaces.
2024-07-17 11:56:56,280 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 11:56:56,295 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 11:56:56,296 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 11:56:56,450 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 11:56:56,451 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2448 ms
2024-07-17 11:56:56,669 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 11:56:56,750 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 11:56:56,951 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 11:56:57,128 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 11:56:57,363 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@11d2714a
2024-07-17 11:56:57,365 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 11:56:57,429 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 11:56:58,515 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 11:56:58,527 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:56:58,535 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 11:56:58,537 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 11:56:58,538 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 11:56:58,548 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 11:56:58,551 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 11:56:58,553 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 11:56:58,561 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 11:56:58,575 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 11:56:58,591 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 11:56:58,597 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 11:56:58,615 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 11:56:58,632 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 11:56:58,648 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 11:56:58,663 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 11:56:58,704 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 11:56:58,738 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 11:56:58,753 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 11:57:00,301 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 11:57:00,773 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ce24203, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cc28ad0, org.springframework.security.web.context.SecurityContextHolderFilter@18ed9480, org.springframework.security.web.header.HeaderWriterFilter@3305897c, org.springframework.security.web.authentication.logout.LogoutFilter@2db4a84a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5b27d03d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@238c63df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70c99e13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29811d4d, org.springframework.security.web.session.SessionManagementFilter@47d0195b, org.springframework.security.web.access.ExceptionTranslationFilter@c2191a8, org.springframework.security.web.access.intercept.AuthorizationFilter@5418a659]
2024-07-17 11:57:01,172 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 11:57:01,197 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.921 seconds (process running for 8.486)
2024-07-17 11:57:01,428 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 11:57:01,446 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 11:57:01,493 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:57:01,643 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 11:57:01,645 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 11:57:01,661 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:57:01,791 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:57:01,916 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:57:02,040 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 11:57:23,070 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-17 11:57:23,071 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-17 11:57:23,073 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-17 11:57:24,519 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 1079 ms
2024-07-17 12:01:08,010 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-7] Init duration for springdoc-openapi is: 381 ms
2024-07-17 12:29:08,912 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 12:33:30,999 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-17 12:33:31,261 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-17 12:34:41,060 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_number=?
2024-07-17 12:34:41,078 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] insert into bus (bus_capacity, bus_color, bus_model, bus_number, captain_id, created_at, created_by, driver_id, operational_status, route_name) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 12:36:07,023 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 12:36:07,047 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] update bus set updated_by=?, bus_capacity=?, bus_color=?, bus_model=?, bus_number=?, captain_id=?, driver_id=?, operational_status=?, route_name=?, updated_at=? where bus_id=?
2024-07-17 12:37:05,898 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select b1_0.bus_id,b1_0.updated_by,b1_0.bus_capacity,b1_0.bus_color,b1_0.bus_model,b1_0.bus_number,b1_0.captain_id,b1_0.created_at,b1_0.created_by,b1_0.driver_id,b1_0.operational_status,b1_0.route_name,b1_0.updated_at from bus b1_0 where b1_0.bus_id=?
2024-07-17 12:37:05,909 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] insert into bus_stops (bus_id, name, created_at, created_by) values (?, ?, ?, ?)
2024-07-17 12:37:52,271 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select b1_0.bus_stop_id,b1_0.updated_by,b2_0.bus_id,b2_0.updated_by,b2_0.bus_capacity,b2_0.bus_color,b2_0.bus_model,b2_0.bus_number,b2_0.captain_id,b2_0.created_at,b2_0.created_by,b2_0.driver_id,b2_0.operational_status,b2_0.route_name,b2_0.updated_at,b1_0.name,b1_0.created_at,b1_0.created_by,b1_0.updated_at from bus_stops b1_0 join bus b2_0 on b2_0.bus_id=b1_0.bus_id where b1_0.bus_stop_id=?
2024-07-17 12:37:52,285 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] update bus_stops set updated_by=?, bus_id=?, name=?, updated_at=? where bus_stop_id=?
2024-07-17 12:51:01,700 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select b1_0.bus_stop_id,b1_0.updated_by,b2_0.bus_id,b2_0.updated_by,b2_0.bus_capacity,b2_0.bus_color,b2_0.bus_model,b2_0.bus_number,b2_0.captain_id,b2_0.created_at,b2_0.created_by,b2_0.driver_id,b2_0.operational_status,b2_0.route_name,b2_0.updated_at,b1_0.name,b1_0.created_at,b1_0.created_by,b1_0.updated_at from bus_stops b1_0 join bus b2_0 on b2_0.bus_id=b1_0.bus_id where b1_0.bus_stop_id=?
2024-07-17 12:51:01,745 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] delete from bus_stops where bus_stop_id=?
2024-07-17 13:29:00,330 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=22m2s310ms).
2024-07-17 14:29:22,162 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m21s446ms).
2024-07-17 15:08:25,623 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 15:08:25,660 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 15:08:25,667 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 15:08:25,778 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 15:08:25,805 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-17 15:08:25,825 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-17 15:08:25,847 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-17 15:08:25,863 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_stops
2024-07-17 15:08:25,893 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-17 15:08:25,901 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-17 15:08:27,589 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 20809 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 15:08:27,592 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 15:08:28,723 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 15:08:28,827 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 86 ms. Found 3 JPA repository interfaces.
2024-07-17 15:08:30,289 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 15:08:30,313 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 15:08:30,314 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 15:08:30,461 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 15:08:30,462 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2743 ms
2024-07-17 15:08:30,725 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 15:08:30,838 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 15:08:31,174 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 15:08:31,447 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 15:08:31,784 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@505d2bac
2024-07-17 15:08:31,788 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 15:08:31,868 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 15:08:33,222 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 15:08:33,235 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:08:33,244 [DEBUG] org.hibernate.SQL [main] alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8
2024-07-17 15:08:33,246 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.booking' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:08:33,253 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 15:08:33,337 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:08:33,340 [DEBUG] org.hibernate.SQL [main] alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre
2024-07-17 15:08:33,382 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.waitlist' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:08:33,383 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 15:08:33,393 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 15:08:33,396 [DEBUG] org.hibernate.SQL [main] drop table if exists booking
2024-07-17 15:08:33,404 [DEBUG] org.hibernate.SQL [main] drop table if exists booking_seq
2024-07-17 15:08:33,413 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 15:08:33,417 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 15:08:33,425 [DEBUG] org.hibernate.SQL [main] drop table if exists waitlist
2024-07-17 15:08:33,432 [DEBUG] org.hibernate.SQL [main] drop table if exists waitlist_seq
2024-07-17 15:08:33,443 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 15:08:33,622 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 15:08:33,643 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 15:08:33,650 [DEBUG] org.hibernate.SQL [main] create table booking (id varchar(255) not null, date datetime(6), drop_off_point varchar(255), route varchar(255), take_off_point varchar(255), time_of_departure datetime(6), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 15:08:33,672 [DEBUG] org.hibernate.SQL [main] create table booking_seq (next_val bigint) engine=InnoDB
2024-07-17 15:08:33,687 [DEBUG] org.hibernate.SQL [main] insert into booking_seq values ( 1 )
2024-07-17 15:08:33,691 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 15:08:33,715 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 15:08:33,731 [DEBUG] org.hibernate.SQL [main] create table waitlist (id varchar(255) not null, date datetime(6), drop_off_point varchar(255), route varchar(255), take_off_point varchar(255), time_of_departure datetime(6), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 15:08:33,753 [DEBUG] org.hibernate.SQL [main] create table waitlist_seq (next_val bigint) engine=InnoDB
2024-07-17 15:08:33,768 [DEBUG] org.hibernate.SQL [main] insert into waitlist_seq values ( 1 )
2024-07-17 15:08:33,772 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 15:08:33,793 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 15:08:33,816 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 15:08:33,866 [DEBUG] org.hibernate.SQL [main] alter table booking add constraint FKh38bx5chy1elv5umc5ht0qev8 foreign key (bus_id) references bus (bus_id)
2024-07-17 15:08:33,906 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 15:08:33,947 [DEBUG] org.hibernate.SQL [main] alter table waitlist add constraint FKl5fx0qa2derpq11ceh1381lre foreign key (bus_id) references bus (bus_id)
2024-07-17 15:08:33,988 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 15:08:34,001 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 15:08:35,430 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 15:08:35,853 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fce655d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@df5f657, org.springframework.security.web.context.SecurityContextHolderFilter@aaf4375, org.springframework.security.web.header.HeaderWriterFilter@22c0c0bc, org.springframework.security.web.authentication.logout.LogoutFilter@23b3afb4, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5ee76cf2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43a72f0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18d63996, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68908be7, org.springframework.security.web.session.SessionManagementFilter@193792e6, org.springframework.security.web.access.ExceptionTranslationFilter@5390862e, org.springframework.security.web.access.intercept.AuthorizationFilter@5d3a238]
2024-07-17 15:08:36,197 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 15:08:36,212 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 9.31 seconds (process running for 10.001)
2024-07-17 15:08:36,399 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 15:08:36,411 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 15:08:36,457 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:08:36,618 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 15:08:36,619 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 15:08:36,625 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:08:36,764 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:08:36,890 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:08:37,015 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:08:37,139 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:11:35,367 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 15:11:35,369 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-17 15:11:35,371 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 15:11:35,398 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8
2024-07-17 15:11:35,412 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 15:11:35,427 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre
2024-07-17 15:11:35,442 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-17 15:11:35,461 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-17 15:11:35,472 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists booking
2024-07-17 15:11:35,482 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists booking_seq
2024-07-17 15:11:35,493 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-17 15:11:35,506 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_stops
2024-07-17 15:11:35,516 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists waitlist
2024-07-17 15:11:35,529 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists waitlist_seq
2024-07-17 15:11:35,540 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-17 15:11:35,559 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-17 15:11:45,064 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 22579 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-17 15:11:45,066 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-17 15:11:46,083 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-17 15:11:46,175 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 78 ms. Found 5 JPA repository interfaces.
2024-07-17 15:11:47,542 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-17 15:11:47,565 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-17 15:11:47,566 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-17 15:11:47,744 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-17 15:11:47,745 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2570 ms
2024-07-17 15:11:48,026 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-17 15:11:48,112 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-17 15:11:48,390 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-17 15:11:48,564 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-17 15:11:48,819 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@ca546a1
2024-07-17 15:11:48,821 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-17 15:11:48,900 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-17 15:11:50,298 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-17 15:11:50,317 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:11:50,328 [DEBUG] org.hibernate.SQL [main] alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8
2024-07-17 15:11:50,332 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table booking drop foreign key FKh38bx5chy1elv5umc5ht0qev8" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.booking' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:11:50,335 [DEBUG] org.hibernate.SQL [main] alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp
2024-07-17 15:11:50,337 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table bus_stops drop foreign key FKstqix1yc6nb2o5rpmdfds2rnp" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.bus_stops' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:11:50,347 [DEBUG] org.hibernate.SQL [main] alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre
2024-07-17 15:11:50,350 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table waitlist drop foreign key FKl5fx0qa2derpq11ceh1381lre" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:19)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.waitlist' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-17 15:11:50,352 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-17 15:11:50,363 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-17 15:11:50,369 [DEBUG] org.hibernate.SQL [main] drop table if exists booking
2024-07-17 15:11:50,373 [DEBUG] org.hibernate.SQL [main] drop table if exists booking_seq
2024-07-17 15:11:50,378 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-17 15:11:50,384 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_stops
2024-07-17 15:11:50,387 [DEBUG] org.hibernate.SQL [main] drop table if exists waitlist
2024-07-17 15:11:50,390 [DEBUG] org.hibernate.SQL [main] drop table if exists waitlist_seq
2024-07-17 15:11:50,402 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 15:11:50,424 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-17 15:11:50,443 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-17 15:11:50,448 [DEBUG] org.hibernate.SQL [main] create table booking (id varchar(255) not null, date datetime(6), drop_off_point varchar(255), route varchar(255), take_off_point varchar(255), time_of_departure datetime(6), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 15:11:50,463 [DEBUG] org.hibernate.SQL [main] create table booking_seq (next_val bigint) engine=InnoDB
2024-07-17 15:11:50,474 [DEBUG] org.hibernate.SQL [main] insert into booking_seq values ( 1 )
2024-07-17 15:11:50,480 [DEBUG] org.hibernate.SQL [main] create table bus (bus_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), bus_capacity integer not null, bus_color varchar(255) not null, bus_model varchar(255) not null, bus_number varchar(255) not null, captain_id varchar(255), driver_id varchar(255), operational_status enum('INACTIVE','ACTIVE') DEFAULT 'ACTIVE', route_name varchar(255), primary key (bus_id)) engine=InnoDB
2024-07-17 15:11:50,500 [DEBUG] org.hibernate.SQL [main] create table bus_stops (bus_stop_id bigint not null auto_increment, updated_by varchar(255), created_at datetime(6), created_by varchar(255), updated_at datetime(6), name varchar(255), bus_id bigint not null, primary key (bus_stop_id)) engine=InnoDB
2024-07-17 15:11:50,514 [DEBUG] org.hibernate.SQL [main] create table waitlist (id varchar(255) not null, date datetime(6), drop_off_point varchar(255), route varchar(255), take_off_point varchar(255), time_of_departure datetime(6), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-17 15:11:50,537 [DEBUG] org.hibernate.SQL [main] create table waitlist_seq (next_val bigint) engine=InnoDB
2024-07-17 15:11:50,550 [DEBUG] org.hibernate.SQL [main] insert into waitlist_seq values ( 1 )
2024-07-17 15:11:50,554 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-17 15:11:50,571 [DEBUG] org.hibernate.SQL [main] alter table bus add constraint UK_gldrvy52tjhavlvc1q4n7d0fl unique (bus_number)
2024-07-17 15:11:50,586 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (bus_id)
2024-07-17 15:11:50,633 [DEBUG] org.hibernate.SQL [main] alter table booking add constraint FKh38bx5chy1elv5umc5ht0qev8 foreign key (bus_id) references bus (bus_id)
2024-07-17 15:11:50,703 [DEBUG] org.hibernate.SQL [main] alter table bus_stops add constraint FKstqix1yc6nb2o5rpmdfds2rnp foreign key (bus_id) references bus (bus_id)
2024-07-17 15:11:50,735 [DEBUG] org.hibernate.SQL [main] alter table waitlist add constraint FKl5fx0qa2derpq11ceh1381lre foreign key (bus_id) references bus (bus_id)
2024-07-17 15:11:50,774 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-17 15:11:50,786 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-17 15:11:52,339 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-17 15:11:52,765 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ef0bc5b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@83bbab, org.springframework.security.web.context.SecurityContextHolderFilter@56bf6f1e, org.springframework.security.web.header.HeaderWriterFilter@21f9a305, org.springframework.security.web.authentication.logout.LogoutFilter@673fdc28, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1f3f0d25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@308e465b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@306c8e09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67b2c8bb, org.springframework.security.web.session.SessionManagementFilter@1c000c2f, org.springframework.security.web.access.ExceptionTranslationFilter@5006a697, org.springframework.security.web.access.intercept.AuthorizationFilter@49616310]
2024-07-17 15:11:53,156 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-17 15:11:53,169 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.676 seconds (process running for 9.161)
2024-07-17 15:11:53,355 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 15:11:53,370 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 15:11:53,412 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:11:53,583 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-17 15:11:53,585 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-17 15:11:53,588 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:11:53,717 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:11:53,842 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:11:53,966 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-17 15:11:54,092 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

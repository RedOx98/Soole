2024-07-16 06:48:05,493 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16h3m12s157ms).
2024-07-16 06:58:39,920 [WARN] org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [http-nio-8080-exec-3] Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.ecobank.soole.payload.auth.PasswordResetPayloadDTO` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)]
2024-07-16 07:02:47,015 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 07:02:47,023 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-16 07:02:47,026 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 07:02:47,183 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-16 07:02:47,203 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-16 07:02:47,216 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-16 07:02:47,229 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_seq
2024-07-16 07:02:47,251 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-16 07:02:47,292 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-16 07:02:48,960 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 83269 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-16 07:02:48,962 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-16 07:02:50,348 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16 07:02:50,441 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 76 ms. Found 2 JPA repository interfaces.
2024-07-16 07:02:51,424 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-16 07:02:51,445 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-16 07:02:51,446 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-16 07:02:51,624 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-16 07:02:51,625 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2578 ms
2024-07-16 07:02:51,890 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16 07:02:51,997 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-16 07:02:52,323 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-16 07:02:52,580 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-16 07:02:52,880 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31228d83
2024-07-16 07:02:52,884 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-16 07:02:52,971 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-16 07:02:54,296 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 07:02:54,314 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:15)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-16 07:02:54,322 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-16 07:02:54,331 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-16 07:02:54,339 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-16 07:02:54,343 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_seq
2024-07-16 07:02:54,354 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-16 07:02:54,374 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-16 07:02:54,386 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-16 07:02:54,393 [DEBUG] org.hibernate.SQL [main] create table bus (id bigint not null, captain varchar(255), driver varchar(255), plate_number varchar(255), rep varchar(255), route varchar(255), primary key (id)) engine=InnoDB
2024-07-16 07:02:54,404 [DEBUG] org.hibernate.SQL [main] create table bus_seq (next_val bigint) engine=InnoDB
2024-07-16 07:02:54,415 [DEBUG] org.hibernate.SQL [main] insert into bus_seq values ( 1 )
2024-07-16 07:02:54,420 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-16 07:02:54,439 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (id)
2024-07-16 07:02:54,487 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-16 07:02:54,498 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 07:02:55,712 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16 07:02:56,115 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@752fecbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb31735, org.springframework.security.web.context.SecurityContextHolderFilter@bb1b872, org.springframework.security.web.header.HeaderWriterFilter@596d17f4, org.springframework.security.web.authentication.logout.LogoutFilter@1abd1a28, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1b08d26f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66cb9a63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f3c866c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73753326, org.springframework.security.web.session.SessionManagementFilter@73839f22, org.springframework.security.web.access.ExceptionTranslationFilter@5b6ec94a, org.springframework.security.web.access.intercept.AuthorizationFilter@43c3354]
2024-07-16 07:02:56,434 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-16 07:02:56,447 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.225 seconds (process running for 8.842)
2024-07-16 07:02:56,486 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 07:02:56,503 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 07:02:56,540 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 07:02:56,541 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 07:02:56,563 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,574 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,587 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 07:02:56,589 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 07:02:56,594 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 07:02:56,596 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 07:02:56,600 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,603 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,610 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,612 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,619 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,621 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,627 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,628 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:02:56,822 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:56,839 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:02:56,843 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:56,846 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:02:57,010 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,014 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:02:57,017 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,020 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:02:57,171 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,186 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:02:57,190 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,192 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:02:57,384 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,389 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:02:57,393 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,399 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:02:57,587 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,591 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:02:57,598 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:02:57,605 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:04:39,067 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-16 07:04:39,068 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-16 07:04:39,070 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-16 07:04:40,349 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 941 ms
2024-07-16 07:05:04,483 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-16 07:05:04,487 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:05:04,616 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:09:43,965 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m50s953ms).
2024-07-16 07:10:15,334 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.token=?
2024-07-16 07:10:15,339 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:10:15,472 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:10:45,927 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-16 07:10:45,930 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:10:46,054 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.email=?
2024-07-16 07:11:27,690 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.token=?
2024-07-16 07:25:45,702 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 07:25:45,704 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-16 07:25:45,707 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 07:25:45,795 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-16 07:25:45,808 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-16 07:25:45,821 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-16 07:25:45,830 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_seq
2024-07-16 07:25:45,844 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-16 07:25:45,856 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-16 07:25:47,567 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 95529 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-16 07:25:47,570 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-16 07:25:48,925 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16 07:25:49,022 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 79 ms. Found 2 JPA repository interfaces.
2024-07-16 07:25:49,909 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-16 07:25:49,930 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-16 07:25:49,932 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-16 07:25:50,073 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-16 07:25:50,073 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2422 ms
2024-07-16 07:25:50,297 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16 07:25:50,377 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-16 07:25:50,680 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-16 07:25:50,893 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-16 07:25:51,253 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@fe42a09
2024-07-16 07:25:51,256 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-16 07:25:51,326 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-16 07:25:52,421 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 07:25:52,440 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:15)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-16 07:25:52,447 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-16 07:25:52,460 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-16 07:25:52,466 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-16 07:25:52,471 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_seq
2024-07-16 07:25:52,480 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-16 07:25:52,498 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-16 07:25:52,510 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-16 07:25:52,513 [DEBUG] org.hibernate.SQL [main] create table bus (id bigint not null, captain varchar(255), driver varchar(255), plate_number varchar(255), rep varchar(255), route varchar(255), primary key (id)) engine=InnoDB
2024-07-16 07:25:52,527 [DEBUG] org.hibernate.SQL [main] create table bus_seq (next_val bigint) engine=InnoDB
2024-07-16 07:25:52,536 [DEBUG] org.hibernate.SQL [main] insert into bus_seq values ( 1 )
2024-07-16 07:25:52,539 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-16 07:25:52,557 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (id)
2024-07-16 07:25:52,595 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-16 07:25:52,607 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 07:25:53,818 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16 07:25:54,235 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22cf1808, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7156f8cf, org.springframework.security.web.context.SecurityContextHolderFilter@66428512, org.springframework.security.web.header.HeaderWriterFilter@73839f22, org.springframework.security.web.authentication.logout.LogoutFilter@4d359c69, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@279e85eb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a482b3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39a03ccc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22349ad3, org.springframework.security.web.session.SessionManagementFilter@6e111aeb, org.springframework.security.web.access.ExceptionTranslationFilter@63d14dbf, org.springframework.security.web.access.intercept.AuthorizationFilter@750adad8]
2024-07-16 07:25:54,572 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-16 07:25:54,589 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 7.636 seconds (process running for 8.172)
2024-07-16 07:25:54,628 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 07:25:54,640 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 07:25:54,677 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 07:25:54,678 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 07:25:54,707 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,716 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,733 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 07:25:54,735 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 07:25:54,740 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 07:25:54,742 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 07:25:54,746 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,749 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,759 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,760 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,770 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,771 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,778 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,779 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 07:25:54,960 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:54,983 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:25:54,987 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:54,992 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:25:55,125 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,128 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:25:55,130 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,133 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:25:55,311 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,315 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:25:55,318 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,321 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:25:55,447 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,452 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:25:55,456 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,460 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:25:55,593 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,597 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 07:25:55,600 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 07:25:55,603 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 07:28:53,411 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-16 07:28:53,412 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-16 07:28:53,415 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-16 07:28:54,654 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 795 ms
2024-07-16 07:29:14,722 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.affiliate,a1_0.authorities,a1_0.bus_id,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 where a1_0.token=?
2024-07-16 07:45:47,195 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m25s548ms).
2024-07-16 08:08:36,979 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m19s521ms).
2024-07-16 08:33:26,299 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m19s106ms).
2024-07-16 08:55:35,833 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 08:55:35,853 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-16 08:55:35,860 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 08:55:36,070 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-16 08:55:36,094 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-16 08:55:36,106 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-16 08:55:36,118 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_seq
2024-07-16 08:55:36,146 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-16 08:55:36,160 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-16 08:55:38,076 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 50668 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-16 08:55:38,079 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-16 08:55:39,614 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16 08:55:39,726 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 90 ms. Found 2 JPA repository interfaces.
2024-07-16 08:55:40,741 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-16 08:55:40,768 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-16 08:55:40,769 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-16 08:55:40,951 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-16 08:55:40,951 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2761 ms
2024-07-16 08:55:41,184 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16 08:55:41,292 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-16 08:55:41,549 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-16 08:55:41,745 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-16 08:55:42,061 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@31228d83
2024-07-16 08:55:42,064 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-16 08:55:42,193 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-16 08:55:43,431 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 08:55:43,458 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:15)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-16 08:55:43,465 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-16 08:55:43,475 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-16 08:55:43,479 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-16 08:55:43,483 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_seq
2024-07-16 08:55:43,493 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-16 08:55:43,528 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-16 08:55:43,543 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-16 08:55:43,550 [DEBUG] org.hibernate.SQL [main] create table bus (id bigint not null, captain varchar(255), driver varchar(255), plate_number varchar(255), rep varchar(255), route varchar(255), primary key (id)) engine=InnoDB
2024-07-16 08:55:43,565 [DEBUG] org.hibernate.SQL [main] create table bus_seq (next_val bigint) engine=InnoDB
2024-07-16 08:55:43,577 [DEBUG] org.hibernate.SQL [main] insert into bus_seq values ( 1 )
2024-07-16 08:55:43,581 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-16 08:55:43,611 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (id)
2024-07-16 08:55:43,657 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-16 08:55:43,671 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 08:55:44,785 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16 08:55:45,290 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@752fecbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb31735, org.springframework.security.web.context.SecurityContextHolderFilter@bb1b872, org.springframework.security.web.header.HeaderWriterFilter@596d17f4, org.springframework.security.web.authentication.logout.LogoutFilter@1abd1a28, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1b08d26f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66cb9a63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f3c866c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73753326, org.springframework.security.web.session.SessionManagementFilter@73839f22, org.springframework.security.web.access.ExceptionTranslationFilter@5b6ec94a, org.springframework.security.web.access.intercept.AuthorizationFilter@43c3354]
2024-07-16 08:55:45,650 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-16 08:55:45,669 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.501 seconds (process running for 9.299)
2024-07-16 08:55:45,707 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 08:55:45,722 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 08:55:45,761 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 08:55:45,763 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 08:55:45,790 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,800 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,815 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 08:55:45,817 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 08:55:45,826 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 08:55:45,827 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 08:55:45,832 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,838 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,846 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,848 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,858 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,860 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,872 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 08:55:45,874 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 08:55:46,070 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,093 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 08:55:46,096 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,102 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 08:55:46,236 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,240 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 08:55:46,243 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,246 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 08:55:46,375 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,379 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 08:55:46,382 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,384 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 08:55:46,510 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,514 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 08:55:46,517 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,519 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 08:55:46,643 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,647 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 08:55:46,650 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 08:55:46,652 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 08:56:17,298 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-16 08:56:17,299 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-16 08:56:17,300 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-07-16 08:56:18,717 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 763 ms
2024-07-16 08:57:52,640 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:09:28,701 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 09:09:28,704 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-16 09:09:28,706 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 09:09:28,741 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-16 09:09:28,759 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-16 09:09:28,769 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus
2024-07-16 09:09:28,783 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists bus_seq
2024-07-16 09:09:28,800 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-16 09:09:28,812 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-16 09:11:14,470 [INFO] com.ecobank.soole.SooleApplication [main] Starting SooleApplication using Java 17.0.11 with PID 59435 (/Users/olaidehammed/Downloads/soole/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/soole)
2024-07-16 09:11:14,472 [INFO] com.ecobank.soole.SooleApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-16 09:11:15,792 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-16 09:11:15,890 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 80 ms. Found 2 JPA repository interfaces.
2024-07-16 09:11:16,775 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-16 09:11:16,794 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-16 09:11:16,794 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-16 09:11:16,928 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-16 09:11:16,929 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2371 ms
2024-07-16 09:11:17,160 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-16 09:11:17,247 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-16 09:11:17,483 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-16 09:11:17,663 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-16 09:11:17,908 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2120bed
2024-07-16 09:11:17,910 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-16 09:11:17,981 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-16 09:11:19,253 [DEBUG] org.hibernate.SQL [main] alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le
2024-07-16 09:11:19,282 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table account drop foreign key FK6r1576qyd7teowdhwi8tw77le" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.ecobank.soole.SooleApplication.main(SooleApplication.java:15)
Caused by: java.sql.SQLSyntaxErrorException: Table 'sooledb.account' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-16 09:11:19,290 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-16 09:11:19,299 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-16 09:11:19,309 [DEBUG] org.hibernate.SQL [main] drop table if exists bus
2024-07-16 09:11:19,312 [DEBUG] org.hibernate.SQL [main] drop table if exists bus_seq
2024-07-16 09:11:19,324 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, affiliate varchar(255), authorities varchar(255), created_at datetime(6), department varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), level varchar(255), passsword_reset_token_expiry datetime(6), password_hash varchar(255), route varchar(255), staff_id varchar(255), status varchar(255), telephone varchar(255), token varchar(255), username varchar(255), verified varchar(255), bus_id bigint, primary key (id)) engine=InnoDB
2024-07-16 09:11:19,347 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-16 09:11:19,359 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-16 09:11:19,363 [DEBUG] org.hibernate.SQL [main] create table bus (id bigint not null, captain varchar(255), driver varchar(255), plate_number varchar(255), rep varchar(255), route varchar(255), primary key (id)) engine=InnoDB
2024-07-16 09:11:19,375 [DEBUG] org.hibernate.SQL [main] create table bus_seq (next_val bigint) engine=InnoDB
2024-07-16 09:11:19,388 [DEBUG] org.hibernate.SQL [main] insert into bus_seq values ( 1 )
2024-07-16 09:11:19,392 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-16 09:11:19,411 [DEBUG] org.hibernate.SQL [main] alter table account add constraint FK6r1576qyd7teowdhwi8tw77le foreign key (bus_id) references bus (id)
2024-07-16 09:11:19,462 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-16 09:11:19,474 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-16 09:11:21,336 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-16 09:11:21,761 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24f77077, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb73a42, org.springframework.security.web.context.SecurityContextHolderFilter@256d8f17, org.springframework.security.web.header.HeaderWriterFilter@5e8a678a, org.springframework.security.web.authentication.logout.LogoutFilter@2daa5092, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2eb31735, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@659e003e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e111aeb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@188b9a1e, org.springframework.security.web.session.SessionManagementFilter@bb1b872, org.springframework.security.web.access.ExceptionTranslationFilter@35a2ea5a, org.springframework.security.web.access.intercept.AuthorizationFilter@4d359c69]
2024-07-16 09:11:22,094 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-16 09:11:22,110 [INFO] com.ecobank.soole.SooleApplication [main] Started SooleApplication in 8.215 seconds (process running for 8.715)
2024-07-16 09:11:22,150 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 09:11:22,162 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 09:11:22,199 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 09:11:22,202 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 09:11:22,227 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,239 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,252 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from bus_seq for update
2024-07-16 09:11:22,255 [DEBUG] org.hibernate.SQL [main] update bus_seq set next_val= ? where next_val=?
2024-07-16 09:11:22,261 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-16 09:11:22,262 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-16 09:11:22,268 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,271 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,283 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,286 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,294 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,297 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,305 [DEBUG] org.hibernate.SQL [main] insert into bus (captain, driver, plate_number, rep, route, id) values (?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,307 [DEBUG] org.hibernate.SQL [main] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:11:22,504 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:22,528 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 09:11:22,531 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:22,538 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 09:11:22,772 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:22,776 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 09:11:22,778 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:22,781 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 09:11:22,909 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:22,913 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 09:11:22,916 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:22,918 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 09:11:23,049 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:23,054 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 09:11:23,058 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:23,063 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 09:11:23,208 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:23,213 [DEBUG] org.hibernate.SQL [main] select a1_0.id,a1_0.affiliate,a1_0.authorities,b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route,a1_0.created_at,a1_0.department,a1_0.email,a1_0.first_name,a1_0.last_name,a1_0.level,a1_0.passsword_reset_token_expiry,a1_0.password_hash,a1_0.route,a1_0.staff_id,a1_0.status,a1_0.telephone,a1_0.token,a1_0.username,a1_0.verified from account a1_0 left join bus b1_0 on b1_0.id=a1_0.bus_id where a1_0.id=?
2024-07-16 09:11:23,218 [DEBUG] org.hibernate.SQL [main] select b1_0.id,b1_0.captain,b1_0.driver,b1_0.plate_number,b1_0.rep,b1_0.route from bus b1_0 where b1_0.id=?
2024-07-16 09:11:23,225 [DEBUG] org.hibernate.SQL [main] update account set affiliate=?, authorities=?, bus_id=?, created_at=?, department=?, email=?, first_name=?, last_name=?, level=?, passsword_reset_token_expiry=?, password_hash=?, route=?, staff_id=?, status=?, telephone=?, token=?, username=?, verified=? where id=?
2024-07-16 09:11:46,150 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-16 09:11:46,151 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-16 09:11:46,154 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-16 09:11:47,507 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 891 ms
2024-07-16 09:12:54,157 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] insert into account (affiliate, authorities, bus_id, created_at, department, email, first_name, last_name, level, passsword_reset_token_expiry, password_hash, route, staff_id, status, telephone, token, username, verified, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-07-16 09:41:07,935 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m49s751ms).
2024-07-16 10:03:21,964 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m43s866ms).
2024-07-16 10:47:42,048 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m19s950ms).
2024-07-16 11:20:39,554 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m57s377ms).
